<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>R√©sultat officiel ‚Äì Judo</title>
  <style>
    :root { --bg:#0b0f17; --fg:#e8eefc; --muted:#9fb0d0; --ok:#3ddc97; --card:#121a2a; }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; background:radial-gradient(1200px 700px at 30% 10%, #17264a 0%, var(--bg) 55%);
      color:var(--fg); font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial; overflow-x:hidden;
    }
    .wrap{max-width:880px; margin:0 auto; padding:22px 16px 70px;}
    .topbar{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:14px 16px; background:rgba(18,26,42,.75); border:1px solid rgba(255,255,255,.08);
      border-radius:14px; backdrop-filter: blur(10px);
    }
    .badge{display:inline-flex; align-items:center; gap:8px; font-weight:700; letter-spacing:.2px;}
    .dot{width:10px;height:10px;border-radius:50%;background:#3ddc97; box-shadow:0 0 18px rgba(61,220,151,.8);}
    .small{color:var(--muted); font-size:13px;}
    .card{
      margin-top:16px; background:rgba(18,26,42,.72);
      border:1px solid rgba(255,255,255,.08); border-radius:18px;
      padding:18px; overflow:hidden; position:relative;
    }
    .grid{display:grid; gap:14px; grid-template-columns: 1.1fr .9fr;}
    @media (max-width:820px){ .grid{grid-template-columns:1fr;} }
    .h1{font-size:22px; margin:0 0 6px;}
    .p{margin:0; color:var(--muted); line-height:1.5;}
    .progress{margin-top:14px; height:12px; background:rgba(255,255,255,.08); border-radius:999px; overflow:hidden;}
    .bar{height:100%; width:0%; background:linear-gradient(90deg, #3ddc97, #4aa3ff); transition: width .35s ease;}
    .log{
      margin-top:14px; padding:12px; background:rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.08); border-radius:14px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size:13px; color:#cfe0ff; white-space:pre-line; min-height:120px;
    }
    .right{display:flex; flex-direction:column; gap:12px;}
    .photo{
      width:100%; aspect-ratio: 4/3; border-radius:16px;
      background:#0a1020 url("15_31_56.jpg") center/cover no-repeat;
      border:1px solid rgba(255,255,255,.10);
      position:relative; overflow:hidden;
    }
    .stamp{
      position:absolute; inset:auto 12px 12px auto;
      padding:8px 12px; border-radius:999px;
      background:rgba(0,0,0,.45); border:1px solid rgba(255,255,255,.12);
      font-weight:800; letter-spacing:.6px; text-transform:uppercase; font-size:12px;
    }
    .btns{display:flex; gap:10px; flex-wrap:wrap;}
    button{
      cursor:pointer; border:0; padding:12px 14px; border-radius:12px;
      background:#1c2a4a; color:var(--fg); font-weight:700;
      border:1px solid rgba(255,255,255,.10);
    }
    button.secondary{background:transparent;}
    button:active{transform: translateY(1px);}
    .result{
      display:none; margin-top:16px;
      border-radius:18px; padding:18px;
      border:1px solid rgba(255,255,255,.10);
      background:linear-gradient(180deg, rgba(255,77,109,.15), rgba(18,26,42,.72));
    }
    .result h2{margin:0 0 8px; font-size:22px;}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px; font-weight:800;
      background:rgba(255,77,109,.18); border:1px solid rgba(255,77,109,.35);
    }
    .big{font-size:34px; font-weight:900; margin:10px 0 0;}
    .reveal{
      display:none; position:fixed; inset:0; background:rgba(0,0,0,.82);
      backdrop-filter: blur(6px);
      align-items:center; justify-content:center; padding:18px; z-index:50;
    }
    .modal{
      width:min(780px, 96vw);
      border-radius:22px; background:#0c1324;
      border:1px solid rgba(255,255,255,.14);
      overflow:hidden; box-shadow:0 30px 90px rgba(0,0,0,.55);
    }
    .modalTop{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 16px; background:rgba(255,255,255,.04);
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .close{background:transparent; border:1px solid rgba(255,255,255,.18); border-radius:12px; padding:10px 12px;}
    .stage{padding:18px; display:grid; gap:14px; grid-template-columns: 1fr 1fr;}
    @media (max-width:820px){ .stage{grid-template-columns:1fr;} }
    .panel{
      border-radius:18px; padding:16px; background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.10);
    }
    .clown{
      width:100%; aspect-ratio: 1/1; border-radius:18px;
      background:#0b0f17 url("15_35_00.jpg") center/cover no-repeat;
      border:1px solid rgba(255,255,255,.10);
    }
    .shake{ animation: shake .16s infinite; }
    @keyframes shake{
      0%{transform:translate(0,0) rotate(0deg)}
      25%{transform:translate(2px,-1px) rotate(.4deg)}
      50%{transform:translate(-2px,1px) rotate(-.4deg)}
      75%{transform:translate(2px,1px) rotate(.4deg)}
      100%{transform:translate(-2px,-1px) rotate(-.4deg)}
    }
    .hint{margin-top:10px; font-size:12px; color:var(--muted)}
    .warn{color:#ffda79}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="badge"><span class="dot"></span> Portail Examen Judo ‚Äî R√©sultats</div>
      <div class="small" id="meta"></div>
    </div>

    <div class="card">
      <div class="grid">
        <div>
          <h1 class="h1">V√©rification du r√©sultat (Ceinture Noire)</h1>
          <p class="p">Connexion s√©curis√©e aux r√©sultats‚Ä¶ Merci de patienter pendant la synchronisation des donn√©es.</p>

          <div class="progress"><div class="bar" id="bar"></div></div>
          <div class="log" id="log"></div>

          <div class="btns">
            <button id="start">Lancer la v√©rification</button>
            <button class="secondary" id="panic">Mode ‚ÄúULTRA s√©rieux‚Äù</button>
          </div>
          <div class="hint">Pro-tip: ouvre sur son t√©l√©phone + plein √©cran pour l‚Äôeffet ‚Äúexpert‚Äù.</div>
        </div>

        <div class="right">
          <div class="photo"><div class="stamp" id="stamp">Dossier #AJ-74</div></div>
          <div class="card" style="margin:0;">
            <div class="small">Candidat(e)</div>
            <div style="font-weight:900; font-size:18px; margin-top:2px;" id="name">Camille</div>
            <div class="small" style="margin-top:8px;">Session</div>
            <div style="font-weight:800; margin-top:2px;">Hiver 2026 ‚Ä¢ Centre 74</div>
            <div class="small warn" style="margin-top:10px;">Confidentiel ‚Äî Ne pas partager</div>
          </div>
        </div>
      </div>

      <div class="result" id="result">
        <h2>D√©cision du jury</h2>
        <div class="pill">‚ùå Refus ‚Äî Motif: ‚Äútrop de clowning‚Äù</div>
        <div class="big">Ceinture noire : NON VALID√âE</div>
        <p class="p" style="margin-top:10px;">
          Le jury a d√©tect√© un taux anormal de ‚Äúmode clown‚Äù pendant les randoris.
          Une requalification est en cours‚Ä¶
        </p>
        <div class="btns" style="margin-top:14px;">
          <button id="openReveal">Voir la requalification</button>
          <button class="secondary" id="restart">Recommencer</button>
        </div>
      </div>
    </div>
  </div>

  <div class="reveal" id="reveal">
    <div class="modal" id="modal">
      <div class="modalTop">
        <strong>D√©cision finale</strong>
        <button class="close" id="close">Fermer</button>
      </div>
      <div class="stage">
        <div class="panel">
          <div class="small">Requalification officielle</div>
          <div style="font-weight:950; font-size:26px; margin-top:6px;">ü§° Ceinture Clown ‚Äî VALID√âE</div>
          <p class="p" style="margin-top:10px;">
            Apr√®s analyse vid√©o, le jury confirme :  
            <b>judo</b> ‚úÖ mais surtout <b>clown de sc√®ne</b> ‚úÖ‚úÖ‚úÖ
          </p>
          <p class="p" style="margin-top:10px;">
            <b>Conclusion :</b> la ceinture noire attendra‚Ä¶ mais le spectacle, lui, est d√©j√† en tourn√©e.
          </p>
          <div class="btns" style="margin-top:14px;">
            <button id="fullscreen">Plein √©cran</button>
          </div>
          <div class="hint">Tu peux modifier les phrases pour un d√©lire plus ‚Äúpriv√©‚Äù entre vous.</div>
        </div>

        <div class="panel">
          <div class="clown"></div>
          <div class="hint" style="text-align:center; margin-top:10px;">(photo: 15_35_00.jpg)</div>
        </div>
      </div>
    </div>
  </div>

<script>
  const meta = document.getElementById("meta");
  const log = document.getElementById("log");
  const bar = document.getElementById("bar");
  const result = document.getElementById("result");
  const reveal = document.getElementById("reveal");
  const stamp = document.getElementById("stamp");

  const id = "AJ-" + Math.floor(1000 + Math.random()*9000);
  stamp.textContent = "Dossier #" + id;

  function nowStr(){
    const d = new Date();
    return d.toLocaleString("fr-FR", { weekday:"short", year:"numeric", month:"short", day:"2-digit", hour:"2-digit", minute:"2-digit" });
  }
  meta.textContent = nowStr();

  let hardMode = false;

  const lines = [
    "Init: handshake TLS‚Ä¶ OK",
    "Chargement profil candidat‚Ä¶ OK",
    "Connexion centre 74‚Ä¶ OK",
    "R√©cup√©ration vid√©os randori‚Ä¶ OK",
    "Analyse posture / kumikata‚Ä¶ OK",
    "Analyse ukemi‚Ä¶ OK",
    "Analyse ippon‚Ä¶ OK",
    "D√©tection anomalie: ü§° mode clown‚Ä¶",
    "Calcul score final‚Ä¶",
    "Signature jury‚Ä¶",
    "R√©sultat pr√™t."
  ];

  function resetAll(){
    log.textContent = "";
    bar.style.width = "0%";
    result.style.display = "none";
    document.body.classList.remove("shake");
    hardMode = false;
    meta.textContent = nowStr();
  }

  function typeLine(text, delay){
    return new Promise(res=>{
      setTimeout(()=>{
        log.textContent += text + "\n";
        window.scrollTo(0, document.body.scrollHeight);
        res();
      }, delay);
    });
  }

  async function run(){
    resetAll();
    document.getElementById("start").disabled = true;

    for(let i=0;i<lines.length;i++){
      const pct = Math.round(((i+1)/lines.length)*82);
      bar.style.width = pct + "%";
      await typeLine(lines[i], hardMode ? 520 : 820);
      if(lines[i].includes("ü§°")){
        document.body.classList.add("shake");
        await typeLine("‚ö†Ô∏è Alerte: comportement sc√©nique d√©tect√©", hardMode ? 360 : 520);
        document.body.classList.remove("shake");
      }
    }

    bar.style.width = "100%";
    await typeLine("Affichage de la d√©cision‚Ä¶", hardMode ? 420 : 620);

    result.style.display = "block";
    document.getElementById("start").disabled = false;
  }

  function openReveal(){
    reveal.style.display = "flex";
    document.body.classList.add("shake");
    setTimeout(()=>document.body.classList.remove("shake"), 600);
  }

  function closeReveal(){ reveal.style.display = "none"; }

  document.getElementById("start").addEventListener("click", run);

  document.getElementById("panic").addEventListener("click", ()=>{
    hardMode = true;
    log.textContent += "Mode ULTRA S√âRIEUX activ√©.\n";
    document.body.classList.add("shake");
    setTimeout(()=>document.body.classList.remove("shake"), 420);
  });

  document.getElementById("restart").addEventListener("click", resetAll);
  document.getElementById("openReveal").addEventListener("click", openReveal);
  document.getElementById("close").addEventListener("click", closeReveal);
  reveal.addEventListener("click", (e)=>{ if(e.target === reveal) closeReveal(); });

  document.getElementById("fullscreen").addEventListener("click", async ()=>{
    try{ await document.documentElement.requestFullscreen(); }catch(e){}
  });

  window.addEventListener("keydown", (e)=>{ if(e.key === "Escape") closeReveal(); });
</script>
</body>
</html>
